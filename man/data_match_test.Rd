% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/03_01_tracking_data_match_test.R
\name{data_match_test}
\alias{data_match_test}
\title{\strong{Check alignment of variables between two datasets}}
\usage{
data_match_test(new_data, old_data, vars = c("Shared", "All"))
}
\arguments{
\item{new_data}{A data frame for the new dataset.}

\item{old_data}{A data frame for the old dataset.}

\item{vars}{Character, either \code{"Shared"} (default) or \code{"All"}:
\itemize{
\item \code{"Shared"}: only variables present in both datasets.
\item \code{"All"}: include all variables, marking location as "Both", "New", or "Old".
}}
}
\value{
A tibble containing one row per variable, including detailed diagnostics that make it easy to scan for inconsistencies before merging survey waves.
}
\description{
This function compares the structure and metadata of corresponding variables in two datasets, typically different survey waves.

It performs three types of checks:
\itemize{
\item \strong{Variable presence:} Identifies variables that appear in both datasets, only in the new dataset, or only in the old dataset (when \code{vars = "All"}).
\item \strong{Metadata alignment:} For shared variables, the function tests whether the variable labels, classes, and (for factors) the factor levels match between datasets.
\item \strong{Factor-level diagnostics:} When factor levels differ, the function reports which levels in the new dataset are not present in the old dataset.
}
}
\examples{
# Compare variable alignment between Wave 1 and Wave 2
data_match <- data_match_test(new_data = wave_2, old_data = wave_1, vars = "All")

}
